{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useUnits}from'../contexts/UnitsContext';// Professional SVG Icons\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Icons={Target:_ref=>{let{className=\"w-5 h-5\"}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"6\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"2\"})]});},Zap:_ref2=>{let{className=\"w-5 h-5\"}=_ref2;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"13,2 3,14 12,14 11,22 21,10 12,10\"})});},Star:_ref3=>{let{className=\"w-5 h-5\"}=_ref3;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"12,2 15.09,8.26 22,9 17,14.74 18.18,21.02 12,17.77 5.82,21.02 7,14.74 2,9 8.91,8.26\"})});},BarChart:_ref4=>{let{className=\"w-5 h-5\"}=_ref4;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"20\",x2:\"12\",y2:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"20\",x2:\"18\",y2:\"4\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"20\",x2:\"6\",y2:\"16\"})]});},Settings:_ref5=>{let{className=\"w-5 h-5\"}=_ref5;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 1v6m0 6v6m11-7h-6m-6 0H1m17-4a4 4 0 01-8 0m8 0a4 4 0 00-8 0m-4 8a4 4 0 108 0m-8 0a4 4 0 008 0\"})]});},Search:_ref6=>{let{className=\"w-5 h-5\"}=_ref6;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m21 21-4.35-4.35\"})]});},X:_ref7=>{let{className=\"w-5 h-5\"}=_ref7;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"6\",x2:\"6\",y2:\"18\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"6\",x2:\"18\",y2:\"18\"})]});},ChevronRight:_ref8=>{let{className=\"w-5 h-5\"}=_ref8;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"9,18 15,12 9,6\"})});},User:_ref9=>{let{className=\"w-5 h-5\"}=_ref9;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"7\",r:\"4\"})]});},TrendingUp:_ref0=>{let{className=\"w-5 h-5\"}=_ref0;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"23,6 13.5,15.5 8.5,10.5 1,18\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17,6 23,6 23,12\"})]});},Calculator:_ref1=>{let{className=\"w-5 h-5\"}=_ref1;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"4\",y:\"2\",width:\"16\",height:\"20\",rx:\"2\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"6\",x2:\"16\",y2:\"6\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"10\",x2:\"16\",y2:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"14\",x2:\"16\",y2:\"14\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"8\",y1:\"18\",x2:\"12\",y2:\"18\"})]});},Menu:_ref10=>{let{className=\"w-5 h-5\"}=_ref10;return/*#__PURE__*/_jsxs(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"6\",x2:\"21\",y2:\"6\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"12\",x2:\"21\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"3\",y1:\"18\",x2:\"21\",y2:\"18\"})]});}};// Enhanced animated background component\nconst CalculatorBackground=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 pointer-events-none overflow-hidden\",children:[[...Array(8)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-0.5 h-0.5 bg-anime-primary/15 rounded-full\",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animation:`float ${Math.random()*4+8}s ease-in-out infinite`}},i)),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-anime-primary/1 via-transparent to-anime-secondary/1 opacity-30\"})]});const Calculator=()=>{var _availableTraits$find,_dialogTrait$tiers;const{units,loading,searchUnits}=useUnits();// Available traits with their effects - Updated hierarchy and tiered traits\nconst availableTraits=[{id:'monarch',name:'Monarch',description:'+300% Damage, -10% SPA, +5% Range, ONE PLACEMENT only',icon:'/images/Traits/Monarch.webp',effects:{damage:4.0,// +300% = 4x multiplier\nsps:0.9,// -10% SPA\nrange:1.05// +5% Range\n},hierarchy:1},{id:'ethereal',name:'Ethereal',description:'+20% Damage, -20% SPA, +5% Range',icon:'/images/Traits/Ethereal.webp',effects:{damage:1.2,// +20% Damage\nsps:0.8,// -20% SPA\nrange:1.05// +5% Range\n},hierarchy:2},{id:'deadeye',name:'Deadeye',description:'45% Critical Chance, 50% Critical Damage',icon:'/images/Traits/Deadeye.webp',effects:{// Critical effects would be handled separately in actual game mechanics\ndamage:1.0// Base damage (critical calculations handled elsewhere)\n},hierarchy:3},{id:'solar',name:'Solar',description:'+10% Damage, -5% SPA, +25% Range',icon:'/images/Traits/Solar.webp',effects:{damage:1.1,// +10% Damage\nsps:0.95,// -5% SPA\nrange:1.25// +25% Range\n},hierarchy:4},{id:'blitz',name:'Blitz',description:'-20% SPA reduction',icon:'/images/Traits/Blitz.webp',effects:{sps:0.8// -20% SPA\n},hierarchy:5},{id:'fortune',name:'Fortune',description:'+20% Cash income (Farm) / -10% upgrade cost (Non-farm)',icon:'/images/Traits/Fortune.webp',effects:{// Special economic effects handled separately\ndamage:1.0},hierarchy:6},{id:'marksman',name:'Marksman',description:'+30% Range boost',icon:'/images/Traits/Marksman.webp',effects:{range:1.3// +30% Range\n},hierarchy:7},{id:'scholar',name:'Scholar',description:'+50% Experience boost',icon:'/images/Traits/Scholar.webp',effects:{// Experience boost handled separately\ndamage:1.0},hierarchy:8},{id:'vigor',name:'Vigor',description:'Select tier for damage boost',icon:'/images/Traits/Vigor.webp',tiered:true,tiers:[{level:1,description:'Vigor 1 - Increases Damage by +5%',effects:{damage:1.05}},{level:2,description:'Vigor 2 - Increases Damage by +10%',effects:{damage:1.10}},{level:3,description:'Vigor 3 - Increases Damage by +15%',effects:{damage:1.15}}],hierarchy:9},{id:'swift',name:'Swift',description:'Select tier for SPA reduction',icon:'/images/Traits/Swift.webp',tiered:true,tiers:[{level:1,description:'Swift 1 - Decreases SPA by -5%',effects:{sps:0.95}},{level:2,description:'Swift 2 - Decreases SPA by -7.5%',effects:{sps:0.925}},{level:3,description:'Swift 3 - Decreases SPA by -12.5%',effects:{sps:0.875}}],hierarchy:10},{id:'range',name:'Range',description:'Select tier for range boost',icon:'/images/Traits/Range.webp',tiered:true,tiers:[{level:1,description:'Range 1 - Increases Range by +5%',effects:{range:1.05}},{level:2,description:'Range 2 - Increases Range by +10%',effects:{range:1.10}},{level:3,description:'Range 3 - Increases Range by +15%',effects:{range:1.15}}],hierarchy:11}];// Stat grades configuration - Updated with correct percentages\nconst statGrades={'GODLY':{damageRange:[23,25],rangeRange:[11.5,12.5],spaRange:[11.5,12.5],color:'from-cyan-400 to-cyan-600',textColor:'text-cyan-400'},'Z+':{damageRange:[20,22.99],rangeRange:[10,11.49],spaRange:[10,11.49],color:'from-pink-400 to-pink-600',textColor:'text-pink-400'},'Z':{damageRange:[17,19.99],rangeRange:[8.5,9.99],spaRange:[8.5,9.99],color:'from-yellow-400 to-yellow-600',textColor:'text-yellow-400'},'S':{damageRange:[14,16.99],rangeRange:[7,8.49],spaRange:[7,8.49],color:'from-purple-400 to-purple-600',textColor:'text-purple-400'},'A':{damageRange:[11,13.99],rangeRange:[5.5,6.99],spaRange:[5.5,6.99],color:'from-blue-400 to-blue-600',textColor:'text-blue-400'},'B':{damageRange:[8,10.99],rangeRange:[4,5.49],spaRange:[4,5.49],color:'from-green-400 to-green-600',textColor:'text-green-400'},'C':{damageRange:[5,7.99],rangeRange:[2.5,3.99],spaRange:[2.5,3.99],color:'from-gray-400 to-gray-600',textColor:'text-gray-400'},'D':{damageRange:[0,4.99],rangeRange:[0,2.49],spaRange:[0,2.49],color:'from-red-400 to-red-600',textColor:'text-red-400'}};// State management\nconst[selectedUnit,setSelectedUnit]=useState(null);const[unitSearch,setUnitSearch]=useState('');const[level,setLevel]=useState(1);const[upgrade,setUpgrade]=useState(1);const[statGradeSelection,setStatGradeSelection]=useState({damage:'B',range:'B',sps:'B'});const[statPercentages,setStatPercentages]=useState({damage:9,range:4.75,sps:4.75});const[selectedTrait,setSelectedTrait]=useState(null);const[selectedTraitTier,setSelectedTraitTier]=useState(null);const[traitDialogOpen,setTraitDialogOpen]=useState(false);const[dialogTrait,setDialogTrait]=useState(null);const[calculatedStats,setCalculatedStats]=useState(null);const[sidebarOpen,setSidebarOpen]=useState(true);// Filter units based on search\nconst filteredUnits=searchUnits(unitSearch);// Helper function to get stat range key\nconst getStatRangeKey=stat=>{if(stat==='damage')return'damageRange';if(stat==='sps')return'spaRange';if(stat==='range')return'rangeRange';if(stat==='placement')return'damageRange';return'damageRange';};// Calculate final stats\nconst calculateStats=()=>{if(!selectedUnit)return null;const baseStats=selectedUnit.baseStats;const levelMultiplier=1+(level-1)*0.1;const upgradeMultiplier=1+(upgrade-1)*0.05;let finalStats={};Object.keys(baseStats).forEach(stat=>{if(stat==='placement'){finalStats[stat]=baseStats[stat];return;}const percentageBonus=statPercentages[stat]/100;const statMultiplier=1+percentageBonus;let statValue=baseStats[stat]*levelMultiplier*upgradeMultiplier*statMultiplier;if(selectedTrait){const trait=availableTraits.find(t=>t.id===selectedTrait);if(trait){let traitEffects={};if(trait.tiered&&selectedTraitTier){// Use tiered effects\nconst tier=trait.tiers.find(t=>t.level===selectedTraitTier);if(tier){traitEffects=tier.effects;}}else if(!trait.tiered){// Use regular effects\ntraitEffects=trait.effects;}if(traitEffects[stat]){statValue*=traitEffects[stat];}}}finalStats[stat]=Math.round(statValue*100)/100;});return finalStats;};// Update calculated stats when dependencies change\nuseEffect(()=>{setCalculatedStats(calculateStats());},[selectedUnit,level,upgrade,statPercentages,selectedTrait,selectedTraitTier]);// Handle stat percentage changes\nconst handleStatPercentageChange=(statType,value)=>{const percentage=parseFloat(value);setStatPercentages(prev=>({...prev,[statType]:percentage}));const rangeKey=getStatRangeKey(statType);let newGrade='D';for(const[grade,data]of Object.entries(statGrades)){const[min,max]=data[rangeKey];if(percentage>=min&&percentage<=max){newGrade=grade;break;}}setStatGradeSelection(prev=>({...prev,[statType]:newGrade}));};// Handle trait selection\nconst handleTraitSelect=trait=>{if(trait.tiered){// Open dialog for tiered traits\nsetDialogTrait(trait);setTraitDialogOpen(true);}else{// Regular trait selection\nif(selectedTrait===trait.id){setSelectedTrait(null);setSelectedTraitTier(null);}else{setSelectedTrait(trait.id);setSelectedTraitTier(null);}}};// Handle tier selection from dialog\nconst handleTierSelect=tierLevel=>{setSelectedTrait(dialogTrait.id);setSelectedTraitTier(tierLevel);setTraitDialogOpen(false);setDialogTrait(null);};// Close trait dialog\nconst closeTraitDialog=()=>{setTraitDialogOpen(false);setDialogTrait(null);};// Handle unit selection\nconst handleUnitSelect=unit=>{setSelectedUnit(unit);};// Clear selection\nconst clearSelection=()=>{setSelectedUnit(null);setSelectedTrait(null);setSelectedTraitTier(null);setTraitDialogOpen(false);setDialogTrait(null);setLevel(1);setUpgrade(1);setStatPercentages({damage:9,range:4.75,sps:4.75});setStatGradeSelection({damage:'B',range:'B',sps:'B'});};// Get element image\nconst getElementImage=element=>{const elementMap={'Holy':'/images/Elements/Holy (1).webp','Water':'/images/Elements/Water.webp','Fire':'/images/Elements/Fire.webp','Spark':'/images/Elements/Spark.webp','Nature':'/images/Elements/Nature.webp','Unbound':'/images/Elements/Unbound.webp','Curse':'/images/Elements/Curse.webp','Passion':'/images/Elements/Passion.webp','Blast':'/images/Elements/Blast.webp','Cosmic':'/images/Elements/Cosmic.webp'};return elementMap[element]||'/images/Elements/UnknownElement.webp';};// Get tier image\nconst getTierImage=tier=>{const tierMap={'Meta':'/images/UnitTiers/Meta.webp','SemiMeta':'/images/UnitTiers/SemiMeta.webp','Good':'/images/UnitTiers/Good.webp','Support':'/images/UnitTiers/Support.webp','MetaSupport':'/images/UnitTiers/MetaSupport.webp','Bad':'/images/UnitTiers/Bad.webp','Broken':'/images/UnitTiers/Broken.webp'};return tierMap[tier]||'/images/UnitTiers/Support.webp';};// Get rarity styling\nconst getRarityColor=rarity=>{switch(rarity){case'Secret':return'border-red-400/60 bg-red-500/10';case'Mythical':return'border-purple-400/60 bg-purple-500/10';case'Legendary':return'border-yellow-400/60 bg-yellow-500/10';case'Epic':return'border-blue-400/60 bg-blue-500/10';case'Rare':return'border-green-400/60 bg-green-500/10';default:return'border-slate-400/40 bg-slate-500/5';}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-950 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(CalculatorBackground,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center relative z-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 mx-auto mb-4 bg-anime-primary/20 rounded-2xl flex items-center justify-center animate-pulse\",children:/*#__PURE__*/_jsx(Icons.Calculator,{className:\"w-8 h-8 text-anime-primary\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-white mb-2\",children:\"Loading Calculator...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Preparing units database\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-slate-950 flex\",children:[/*#__PURE__*/_jsx(CalculatorBackground,{}),/*#__PURE__*/_jsx(\"div\",{className:`relative z-10 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800/60 transition-all duration-300 ${sidebarOpen?'w-96':'w-16'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-slate-800/60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[sidebarOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-anime-primary/20 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Icons.Calculator,{className:\"w-4 h-4 text-anime-primary\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-sm font-semibold text-white\",children:\"Unit Calculator\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:\"Build optimizer\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),className:\"w-8 h-8 bg-slate-800/60 hover:bg-slate-700/80 rounded-lg flex items-center justify-center transition-colors\",children:/*#__PURE__*/_jsx(Icons.Menu,{className:\"w-4 h-4 text-slate-400\"})})]})}),sidebarOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-slate-800/60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Icons.Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search units...\",value:unitSearch,onChange:e=>setUnitSearch(e.target.value),className:\"w-full pl-9 pr-3 py-2 bg-slate-800/60 border border-slate-700/60 rounded-lg text-sm text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-anime-primary/40 focus:border-anime-primary/60\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-3\",children:\"Select Unit\"}),filteredUnits.length>0?filteredUnits.map(unit=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUnitSelect(unit),className:`w-full p-3 rounded-lg border transition-all text-left ${(selectedUnit===null||selectedUnit===void 0?void 0:selectedUnit.id)===unit.id?'border-anime-primary bg-anime-primary/10':'border-slate-700/60 bg-slate-800/30 hover:border-slate-600/80 hover:bg-slate-800/50'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:unit.image||'/api/placeholder/40/40',alt:unit.name,className:\"w-10 h-10 rounded-lg object-cover\",onError:e=>{e.target.src='/api/placeholder/40/40';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -top-1 -right-1 flex gap-0.5\",children:[/*#__PURE__*/_jsx(\"img\",{src:getElementImage(unit.element),alt:unit.element,className:\"w-3 h-3 rounded\"}),/*#__PURE__*/_jsx(\"img\",{src:getTierImage(unit.tier),alt:unit.tier,className:\"w-3 h-3 rounded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-white truncate\",children:unit.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400\",children:unit.rarity})]})]})},unit.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 mx-auto mb-3 bg-slate-800/40 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(Icons.Search,{className:\"w-6 h-6 text-slate-400\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-400 mb-1\",children:\"No units found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500\",children:unitSearch?'Try a different search term':'Add units via Admin Panel'})]})]}),selectedUnit&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-slate-800/60\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearSelection,className:\"w-full px-3 py-2 text-sm text-slate-300 hover:text-white bg-slate-800/60 hover:bg-slate-700/80 border border-slate-700/60 rounded-lg transition-colors\",children:\"Clear Selection\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 relative z-10 max-w-[1440px]\",children:!selectedUnit?/*#__PURE__*//* Welcome State */_jsx(\"div\",{className:\"h-full flex items-center justify-center p-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-anime-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Icons.Target,{className:\"w-10 h-10 text-anime-primary\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-white mb-4\",children:\"Select a Unit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 leading-relaxed\",children:\"Choose a unit from the sidebar to start calculating optimized stat builds and configurations.\"})]})}):/*#__PURE__*//* Calculator Interface */_jsxs(\"div\",{className:\"h-full overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-slate-900/95 backdrop-blur-xl border-b border-slate-800/60 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:selectedUnit.image,alt:selectedUnit.name,className:\"w-12 h-12 rounded-xl\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-white\",children:selectedUnit.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-400\",children:[selectedUnit.rarity,\" \\u2022 \",selectedUnit.tier]})]})]}),calculatedStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:\"DAMAGE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-white\",children:calculatedStats.damage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:\"RANGE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-white\",children:[calculatedStats.range,\"m\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:\"SPA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-white\",children:[calculatedStats.sps,\"/s\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(Icons.Zap,{className:\"w-5 h-5 text-anime-primary\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Level & Upgrade\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-slate-300\",children:\"Level\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-anime-primary\",children:level}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-500\",children:\"/ 60\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"60\",value:level,onChange:e=>setLevel(parseInt(e.target.value)),className:\"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-slate-500 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"60\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-slate-300\",children:\"Upgrade\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-orange-400\",children:upgrade}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-500\",children:\"/ 10\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"10\",value:upgrade,onChange:e=>setUpgrade(parseInt(e.target.value)),className:\"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-slate-500 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"10\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(Icons.TrendingUp,{className:\"w-5 h-5 text-anime-primary\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Stat Configuration\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:['damage','range','sps'].map(statType=>{const rangeKey=getStatRangeKey(statType);const currentGrade=statGradeSelection[statType];const gradeData=statGrades[currentGrade];const maxRange=gradeData[rangeKey][1];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-semibold text-white capitalize\",children:statType==='sps'?'SPA':statType}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-bold px-3 py-1.5 rounded-lg ${gradeData.textColor} bg-current/15 border border-current/30`,children:currentGrade}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-white\",children:[statPercentages[statType],\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-8 gap-2\",children:Object.keys(statGrades).map(grade=>{const gradeInfo=statGrades[grade];const[min,max]=gradeInfo[rangeKey];const gradeImageName=grade==='Z+'?'ZPLUS':grade;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setStatGradeSelection(prev=>({...prev,[statType]:grade}));// Set percentage to middle of grade range\nconst middleValue=(min+max)/2;setStatPercentages(prev=>({...prev,[statType]:Number(middleValue.toFixed(2))}));},className:`p-3 rounded-lg border transition-all text-center hover:scale-105 ${statGradeSelection[statType]===grade?'border-anime-primary bg-anime-primary/15 shadow-lg shadow-anime-primary/25':'border-slate-700/50 bg-slate-800/30 hover:bg-slate-700/50 hover:border-slate-600/70'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:`/images/Stats/Stat${gradeImageName}.webp`,alt:grade,className:\"w-8 h-8 mb-1\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='block';}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-slate-600/30 rounded hidden items-center justify-center mb-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold text-slate-400\",children:grade})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold text-white\",children:grade}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mt-0.5 text-slate-400\",children:[min,\"-\",max,\"%\"]})]})},grade);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Fine-tune percentage:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-slate-300\",children:[\"Base: \",selectedUnit.baseStats[statType],\" \",statType==='range'?'m':statType==='sps'?'/s':'']})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:maxRange,step:\"0.01\",value:statPercentages[statType],onChange:e=>handleStatPercentageChange(statType,e.target.value),className:\"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-slate-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"0%\"}),/*#__PURE__*/_jsxs(\"span\",{children:[maxRange,\"%\"]})]})]})]},statType);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(Icons.Star,{className:\"w-5 h-5 text-anime-primary\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Trait Selection\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-400\",children:\"Optional\"}),selectedTrait&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-anime-primary font-medium\",children:[(_availableTraits$find=availableTraits.find(t=>t.id===selectedTrait))===null||_availableTraits$find===void 0?void 0:_availableTraits$find.name,selectedTraitTier&&` ${selectedTraitTier}`]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedTrait(null);setSelectedTraitTier(null);},className:\"w-5 h-5 bg-slate-700/60 hover:bg-slate-600/80 rounded text-slate-400 hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(Icons.X,{className:\"w-3 h-3\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\",children:availableTraits.sort((a,b)=>a.hierarchy-b.hierarchy).map(trait=>{const isSelected=selectedTrait===trait.id;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleTraitSelect(trait),className:`p-4 rounded-xl border transition-all relative ${isSelected?'border-anime-primary bg-anime-primary/10':'border-slate-700/60 bg-slate-800/30 hover:border-slate-600/80 hover:bg-slate-800/50'}`,children:[trait.tiered&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-anime-accent text-anime-darker px-1.5 py-0.5 rounded font-bold\",children:\"1-3\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:trait.icon,alt:trait.name,className:\"w-10 h-10 mx-auto rounded-lg mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-white mb-1\",children:trait.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-400 leading-relaxed\",children:trait.description}),isSelected&&selectedTraitTier&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-anime-primary font-medium\",children:[\"Tier \",selectedTraitTier,\" Active\"]})]})]},trait.id);})})]}),calculatedStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(Icons.BarChart,{className:\"w-5 h-5 text-anime-primary\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Final Statistics\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-6\",children:Object.entries(calculatedStats).map(_ref11=>{let[stat,value]=_ref11;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-slate-800/30 rounded-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-2\",children:stat==='sps'?'SPA':stat}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-white mb-1\",children:stat==='placement'?value.toLocaleString():value}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-slate-500\",children:stat==='range'?'meters':stat==='sps'?'per second':stat==='placement'?'cost':'points'}),stat!=='placement'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-anime-primary mt-1\",children:[\"+\",((value/selectedUnit.baseStats[stat]-1)*100).toFixed(1),\"%\"]})]},stat);})})]})]})]})}),traitDialogOpen&&dialogTrait&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/95 backdrop-blur-xl border border-slate-800/60 rounded-2xl p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:dialogTrait.icon,alt:dialogTrait.name,className:\"w-8 h-8 rounded-lg\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white\",children:dialogTrait.name})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeTraitDialog,className:\"w-8 h-8 bg-slate-800/60 hover:bg-slate-700/80 rounded-lg flex items-center justify-center transition-colors\",children:/*#__PURE__*/_jsx(Icons.X,{className:\"w-4 h-4 text-slate-400\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 mb-6\",children:\"Select the tier level for this trait:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(_dialogTrait$tiers=dialogTrait.tiers)===null||_dialogTrait$tiers===void 0?void 0:_dialogTrait$tiers.map(tier=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleTierSelect(tier.level),className:\"w-full p-4 text-left bg-slate-800/40 hover:bg-slate-700/60 border border-slate-700/60 hover:border-slate-600/80 rounded-xl transition-all\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-white\",children:[\"Tier \",tier.level]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[[...Array(tier.level)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-anime-primary rounded-full\"},i)),[...Array(3-tier.level)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-slate-600 rounded-full\"},i))]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-400\",children:tier.description})]},tier.level))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-slate-800/60\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeTraitDialog,className:\"w-full px-4 py-2 text-sm text-slate-300 hover:text-white bg-slate-800/60 hover:bg-slate-700/80 border border-slate-700/60 rounded-lg transition-colors\",children:\"Cancel\"})})]})})]});};export default Calculator;","map":{"version":3,"names":["React","useState","useEffect","useUnits","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Icons","Target","_ref","className","fill","stroke","viewBox","children","cx","cy","r","Zap","_ref2","points","Star","_ref3","BarChart","_ref4","x1","y1","x2","y2","Settings","_ref5","d","Search","_ref6","X","_ref7","ChevronRight","_ref8","User","_ref9","TrendingUp","_ref0","Calculator","_ref1","x","y","width","height","rx","Menu","_ref10","CalculatorBackground","Array","map","_","i","style","left","Math","random","top","animationDelay","animation","_availableTraits$find","_dialogTrait$tiers","units","loading","searchUnits","availableTraits","id","name","description","icon","effects","damage","sps","range","hierarchy","tiered","tiers","level","statGrades","damageRange","rangeRange","spaRange","color","textColor","selectedUnit","setSelectedUnit","unitSearch","setUnitSearch","setLevel","upgrade","setUpgrade","statGradeSelection","setStatGradeSelection","statPercentages","setStatPercentages","selectedTrait","setSelectedTrait","selectedTraitTier","setSelectedTraitTier","traitDialogOpen","setTraitDialogOpen","dialogTrait","setDialogTrait","calculatedStats","setCalculatedStats","sidebarOpen","setSidebarOpen","filteredUnits","getStatRangeKey","stat","calculateStats","baseStats","levelMultiplier","upgradeMultiplier","finalStats","Object","keys","forEach","percentageBonus","statMultiplier","statValue","trait","find","t","traitEffects","tier","round","handleStatPercentageChange","statType","value","percentage","parseFloat","prev","rangeKey","newGrade","grade","data","entries","min","max","handleTraitSelect","handleTierSelect","tierLevel","closeTraitDialog","handleUnitSelect","unit","clearSelection","getElementImage","element","elementMap","getTierImage","tierMap","getRarityColor","rarity","onClick","type","placeholder","onChange","e","target","length","src","image","alt","onError","parseInt","currentGrade","gradeData","maxRange","gradeInfo","gradeImageName","middleValue","Number","toFixed","display","nextSibling","step","sort","a","b","isSelected","_ref11","toLocaleString"],"sources":["C:/Users/Kennely Ray/Desktop/AV-Stat-Calc/src/pages/Calculator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useUnits } from '../contexts/UnitsContext';\n\n// Professional SVG Icons\nconst Icons = {\n  Target: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n      <circle cx=\"12\" cy=\"12\" r=\"6\"/>\n      <circle cx=\"12\" cy=\"12\" r=\"2\"/>\n    </svg>\n  ),\n  Zap: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <polygon points=\"13,2 3,14 12,14 11,22 21,10 12,10\"/>\n    </svg>\n  ),\n  Star: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <polygon points=\"12,2 15.09,8.26 22,9 17,14.74 18.18,21.02 12,17.77 5.82,21.02 7,14.74 2,9 8.91,8.26\"/>\n    </svg>\n  ),\n  BarChart: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"10\"/>\n      <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"4\"/>\n      <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"16\"/>\n    </svg>\n  ),\n  Settings: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n      <path d=\"M12 1v6m0 6v6m11-7h-6m-6 0H1m17-4a4 4 0 01-8 0m8 0a4 4 0 00-8 0m-4 8a4 4 0 108 0m-8 0a4 4 0 008 0\"/>\n    </svg>\n  ),\n  Search: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n      <path d=\"m21 21-4.35-4.35\"/>\n    </svg>\n  ),\n  X: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/>\n      <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/>\n    </svg>\n  ),\n  ChevronRight: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <polyline points=\"9,18 15,12 9,6\"/>\n    </svg>\n  ),\n  User: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/>\n      <circle cx=\"12\" cy=\"7\" r=\"4\"/>\n    </svg>\n  ),\n  TrendingUp: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <polyline points=\"23,6 13.5,15.5 8.5,10.5 1,18\"/>\n      <polyline points=\"17,6 23,6 23,12\"/>\n    </svg>\n  ),\n  Calculator: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"2\"/>\n      <line x1=\"8\" y1=\"6\" x2=\"16\" y2=\"6\"/>\n      <line x1=\"8\" y1=\"10\" x2=\"16\" y2=\"10\"/>\n      <line x1=\"8\" y1=\"14\" x2=\"16\" y2=\"14\"/>\n      <line x1=\"8\" y1=\"18\" x2=\"12\" y2=\"18\"/>\n    </svg>\n  ),\n  Menu: ({ className = \"w-5 h-5\" }) => (\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n      <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"/>\n      <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"/>\n      <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"/>\n    </svg>\n  )\n};\n\n// Enhanced animated background component\nconst CalculatorBackground = () => (\n  <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\n    {[...Array(8)].map((_, i) => (\n      <div\n        key={i}\n        className=\"absolute w-0.5 h-0.5 bg-anime-primary/15 rounded-full\"\n        style={{\n          left: `${Math.random() * 100}%`,\n          top: `${Math.random() * 100}%`,\n          animationDelay: `${Math.random() * 5}s`,\n          animation: `float ${Math.random() * 4 + 8}s ease-in-out infinite`\n        }}\n      />\n    ))}\n    <div className=\"absolute inset-0 bg-gradient-to-br from-anime-primary/1 via-transparent to-anime-secondary/1 opacity-30\" />\n  </div>\n);\n\nconst Calculator = () => {\n  const { units, loading, searchUnits } = useUnits();\n\n  // Available traits with their effects - Updated hierarchy and tiered traits\n  const availableTraits = [\n    {\n      id: 'monarch',\n      name: 'Monarch',\n      description: '+300% Damage, -10% SPA, +5% Range, ONE PLACEMENT only',\n      icon: '/images/Traits/Monarch.webp',\n      effects: {\n        damage: 4.0,  // +300% = 4x multiplier\n        sps: 0.9,     // -10% SPA\n        range: 1.05   // +5% Range\n      },\n      hierarchy: 1\n    },\n    {\n      id: 'ethereal',\n      name: 'Ethereal',\n      description: '+20% Damage, -20% SPA, +5% Range',\n      icon: '/images/Traits/Ethereal.webp',\n      effects: {\n        damage: 1.2,  // +20% Damage\n        sps: 0.8,     // -20% SPA\n        range: 1.05   // +5% Range\n      },\n      hierarchy: 2\n    },\n    {\n      id: 'deadeye',\n      name: 'Deadeye',\n      description: '45% Critical Chance, 50% Critical Damage',\n      icon: '/images/Traits/Deadeye.webp',\n      effects: {\n        // Critical effects would be handled separately in actual game mechanics\n        damage: 1.0   // Base damage (critical calculations handled elsewhere)\n      },\n      hierarchy: 3\n    },\n    {\n      id: 'solar',\n      name: 'Solar',\n      description: '+10% Damage, -5% SPA, +25% Range',\n      icon: '/images/Traits/Solar.webp',\n      effects: {\n        damage: 1.1,   // +10% Damage\n        sps: 0.95,     // -5% SPA\n        range: 1.25    // +25% Range\n      },\n      hierarchy: 4\n    },\n    {\n      id: 'blitz',\n      name: 'Blitz',\n      description: '-20% SPA reduction',\n      icon: '/images/Traits/Blitz.webp',\n      effects: {\n        sps: 0.8  // -20% SPA\n      },\n      hierarchy: 5\n    },\n    {\n      id: 'fortune',\n      name: 'Fortune',\n      description: '+20% Cash income (Farm) / -10% upgrade cost (Non-farm)',\n      icon: '/images/Traits/Fortune.webp',\n      effects: {\n        // Special economic effects handled separately\n        damage: 1.0\n      },\n      hierarchy: 6\n    },\n    {\n      id: 'marksman',\n      name: 'Marksman',\n      description: '+30% Range boost',\n      icon: '/images/Traits/Marksman.webp',\n      effects: {\n        range: 1.3  // +30% Range\n      },\n      hierarchy: 7\n    },\n    {\n      id: 'scholar',\n      name: 'Scholar',\n      description: '+50% Experience boost',\n      icon: '/images/Traits/Scholar.webp',\n      effects: {\n        // Experience boost handled separately\n        damage: 1.0\n      },\n      hierarchy: 8\n    },\n    {\n      id: 'vigor',\n      name: 'Vigor',\n      description: 'Select tier for damage boost',\n      icon: '/images/Traits/Vigor.webp',\n      tiered: true,\n      tiers: [\n        { level: 1, description: 'Vigor 1 - Increases Damage by +5%', effects: { damage: 1.05 } },\n        { level: 2, description: 'Vigor 2 - Increases Damage by +10%', effects: { damage: 1.10 } },\n        { level: 3, description: 'Vigor 3 - Increases Damage by +15%', effects: { damage: 1.15 } }\n      ],\n      hierarchy: 9\n    },\n    {\n      id: 'swift',\n      name: 'Swift',\n      description: 'Select tier for SPA reduction',\n      icon: '/images/Traits/Swift.webp',\n      tiered: true,\n      tiers: [\n        { level: 1, description: 'Swift 1 - Decreases SPA by -5%', effects: { sps: 0.95 } },\n        { level: 2, description: 'Swift 2 - Decreases SPA by -7.5%', effects: { sps: 0.925 } },\n        { level: 3, description: 'Swift 3 - Decreases SPA by -12.5%', effects: { sps: 0.875 } }\n      ],\n      hierarchy: 10\n    },\n    {\n      id: 'range',\n      name: 'Range',\n      description: 'Select tier for range boost',\n      icon: '/images/Traits/Range.webp',\n      tiered: true,\n      tiers: [\n        { level: 1, description: 'Range 1 - Increases Range by +5%', effects: { range: 1.05 } },\n        { level: 2, description: 'Range 2 - Increases Range by +10%', effects: { range: 1.10 } },\n        { level: 3, description: 'Range 3 - Increases Range by +15%', effects: { range: 1.15 } }\n      ],\n      hierarchy: 11\n    }\n  ];\n\n  // Stat grades configuration - Updated with correct percentages\n  const statGrades = {\n    'GODLY': {\n      damageRange: [23, 25],\n      rangeRange: [11.5, 12.5],\n      spaRange: [11.5, 12.5],\n      color: 'from-cyan-400 to-cyan-600',\n      textColor: 'text-cyan-400'\n    },\n    'Z+': {\n      damageRange: [20, 22.99],\n      rangeRange: [10, 11.49],\n      spaRange: [10, 11.49],\n      color: 'from-pink-400 to-pink-600',\n      textColor: 'text-pink-400'\n    },\n    'Z': {\n      damageRange: [17, 19.99],\n      rangeRange: [8.5, 9.99],\n      spaRange: [8.5, 9.99],\n      color: 'from-yellow-400 to-yellow-600',\n      textColor: 'text-yellow-400'\n    },\n    'S': {\n      damageRange: [14, 16.99],\n      rangeRange: [7, 8.49],\n      spaRange: [7, 8.49],\n      color: 'from-purple-400 to-purple-600',\n      textColor: 'text-purple-400'\n    },\n    'A': {\n      damageRange: [11, 13.99],\n      rangeRange: [5.5, 6.99],\n      spaRange: [5.5, 6.99],\n      color: 'from-blue-400 to-blue-600',\n      textColor: 'text-blue-400'\n    },\n    'B': {\n      damageRange: [8, 10.99],\n      rangeRange: [4, 5.49],\n      spaRange: [4, 5.49],\n      color: 'from-green-400 to-green-600',\n      textColor: 'text-green-400'\n    },\n    'C': {\n      damageRange: [5, 7.99],\n      rangeRange: [2.5, 3.99],\n      spaRange: [2.5, 3.99],\n      color: 'from-gray-400 to-gray-600',\n      textColor: 'text-gray-400'\n    },\n    'D': {\n      damageRange: [0, 4.99],\n      rangeRange: [0, 2.49],\n      spaRange: [0, 2.49],\n      color: 'from-red-400 to-red-600',\n      textColor: 'text-red-400'\n    }\n  };\n\n  // State management\n  const [selectedUnit, setSelectedUnit] = useState(null);\n  const [unitSearch, setUnitSearch] = useState('');\n  const [level, setLevel] = useState(1);\n  const [upgrade, setUpgrade] = useState(1);\n  const [statGradeSelection, setStatGradeSelection] = useState({\n    damage: 'B',\n    range: 'B',\n    sps: 'B'\n  });\n  const [statPercentages, setStatPercentages] = useState({\n    damage: 9,\n    range: 4.75,\n    sps: 4.75\n  });\n  const [selectedTrait, setSelectedTrait] = useState(null);\n  const [selectedTraitTier, setSelectedTraitTier] = useState(null);\n  const [traitDialogOpen, setTraitDialogOpen] = useState(false);\n  const [dialogTrait, setDialogTrait] = useState(null);\n  const [calculatedStats, setCalculatedStats] = useState(null);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  // Filter units based on search\n  const filteredUnits = searchUnits(unitSearch);\n\n  // Helper function to get stat range key\n  const getStatRangeKey = (stat) => {\n    if (stat === 'damage') return 'damageRange';\n    if (stat === 'sps') return 'spaRange';\n    if (stat === 'range') return 'rangeRange';\n    if (stat === 'placement') return 'damageRange';\n    return 'damageRange';\n  };\n\n  // Calculate final stats\n  const calculateStats = () => {\n    if (!selectedUnit) return null;\n\n    const baseStats = selectedUnit.baseStats;\n    const levelMultiplier = 1 + (level - 1) * 0.1;\n    const upgradeMultiplier = 1 + (upgrade - 1) * 0.05;\n\n    let finalStats = {};\n\n    Object.keys(baseStats).forEach(stat => {\n      if (stat === 'placement') {\n        finalStats[stat] = baseStats[stat];\n        return;\n      }\n\n      const percentageBonus = statPercentages[stat] / 100;\n      const statMultiplier = 1 + percentageBonus;\n      let statValue = baseStats[stat] * levelMultiplier * upgradeMultiplier * statMultiplier;\n\n      if (selectedTrait) {\n        const trait = availableTraits.find(t => t.id === selectedTrait);\n        if (trait) {\n          let traitEffects = {};\n          \n          if (trait.tiered && selectedTraitTier) {\n            // Use tiered effects\n            const tier = trait.tiers.find(t => t.level === selectedTraitTier);\n            if (tier) {\n              traitEffects = tier.effects;\n            }\n          } else if (!trait.tiered) {\n            // Use regular effects\n            traitEffects = trait.effects;\n          }\n          \n          if (traitEffects[stat]) {\n            statValue *= traitEffects[stat];\n          }\n        }\n      }\n\n      finalStats[stat] = Math.round(statValue * 100) / 100;\n    });\n\n    return finalStats;\n  };\n\n  // Update calculated stats when dependencies change\n  useEffect(() => {\n    setCalculatedStats(calculateStats());\n  }, [selectedUnit, level, upgrade, statPercentages, selectedTrait, selectedTraitTier]);\n\n  // Handle stat percentage changes\n  const handleStatPercentageChange = (statType, value) => {\n    const percentage = parseFloat(value);\n    setStatPercentages(prev => ({\n      ...prev,\n      [statType]: percentage\n    }));\n\n    const rangeKey = getStatRangeKey(statType);\n    let newGrade = 'D';\n    \n    for (const [grade, data] of Object.entries(statGrades)) {\n      const [min, max] = data[rangeKey];\n      if (percentage >= min && percentage <= max) {\n        newGrade = grade;\n        break;\n      }\n    }\n    \n    setStatGradeSelection(prev => ({\n      ...prev,\n      [statType]: newGrade\n    }));\n  };\n\n  // Handle trait selection\n  const handleTraitSelect = (trait) => {\n    if (trait.tiered) {\n      // Open dialog for tiered traits\n      setDialogTrait(trait);\n      setTraitDialogOpen(true);\n    } else {\n      // Regular trait selection\n      if (selectedTrait === trait.id) {\n        setSelectedTrait(null);\n        setSelectedTraitTier(null);\n      } else {\n        setSelectedTrait(trait.id);\n        setSelectedTraitTier(null);\n      }\n    }\n  };\n\n  // Handle tier selection from dialog\n  const handleTierSelect = (tierLevel) => {\n    setSelectedTrait(dialogTrait.id);\n    setSelectedTraitTier(tierLevel);\n    setTraitDialogOpen(false);\n    setDialogTrait(null);\n  };\n\n  // Close trait dialog\n  const closeTraitDialog = () => {\n    setTraitDialogOpen(false);\n    setDialogTrait(null);\n  };\n\n  // Handle unit selection\n  const handleUnitSelect = (unit) => {\n    setSelectedUnit(unit);\n  };\n\n  // Clear selection\n  const clearSelection = () => {\n    setSelectedUnit(null);\n    setSelectedTrait(null);\n    setSelectedTraitTier(null);\n    setTraitDialogOpen(false);\n    setDialogTrait(null);\n    setLevel(1);\n    setUpgrade(1);\n    setStatPercentages({\n      damage: 9,\n      range: 4.75,\n      sps: 4.75\n    });\n    setStatGradeSelection({\n      damage: 'B',\n      range: 'B',\n      sps: 'B'\n    });\n  };\n\n  // Get element image\n  const getElementImage = (element) => {\n    const elementMap = {\n      'Holy': '/images/Elements/Holy (1).webp',\n      'Water': '/images/Elements/Water.webp',\n      'Fire': '/images/Elements/Fire.webp',\n      'Spark': '/images/Elements/Spark.webp',\n      'Nature': '/images/Elements/Nature.webp',\n      'Unbound': '/images/Elements/Unbound.webp',\n      'Curse': '/images/Elements/Curse.webp',\n      'Passion': '/images/Elements/Passion.webp',\n      'Blast': '/images/Elements/Blast.webp',\n      'Cosmic': '/images/Elements/Cosmic.webp'\n    };\n    return elementMap[element] || '/images/Elements/UnknownElement.webp';\n  };\n\n  // Get tier image\n  const getTierImage = (tier) => {\n    const tierMap = {\n      'Meta': '/images/UnitTiers/Meta.webp',\n      'SemiMeta': '/images/UnitTiers/SemiMeta.webp',\n      'Good': '/images/UnitTiers/Good.webp',\n      'Support': '/images/UnitTiers/Support.webp',\n      'MetaSupport': '/images/UnitTiers/MetaSupport.webp',\n      'Bad': '/images/UnitTiers/Bad.webp',\n      'Broken': '/images/UnitTiers/Broken.webp'\n    };\n    return tierMap[tier] || '/images/UnitTiers/Support.webp';\n  };\n\n  // Get rarity styling\n  const getRarityColor = (rarity) => {\n    switch (rarity) {\n      case 'Secret': return 'border-red-400/60 bg-red-500/10';\n      case 'Mythical': return 'border-purple-400/60 bg-purple-500/10';\n      case 'Legendary': return 'border-yellow-400/60 bg-yellow-500/10';\n      case 'Epic': return 'border-blue-400/60 bg-blue-500/10';\n      case 'Rare': return 'border-green-400/60 bg-green-500/10';\n      default: return 'border-slate-400/40 bg-slate-500/5';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-slate-950 flex items-center justify-center\">\n        <CalculatorBackground />\n        <div className=\"text-center relative z-10\">\n          <div className=\"w-16 h-16 mx-auto mb-4 bg-anime-primary/20 rounded-2xl flex items-center justify-center animate-pulse\">\n            <Icons.Calculator className=\"w-8 h-8 text-anime-primary\" />\n          </div>\n          <h3 className=\"text-lg font-medium text-white mb-2\">Loading Calculator...</h3>\n          <p className=\"text-slate-400\">Preparing units database</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 flex\">\n      <CalculatorBackground />\n      \n      {/* Left Sidebar */}\n      <div className={`relative z-10 bg-slate-900/95 backdrop-blur-xl border-r border-slate-800/60 transition-all duration-300 ${\n        sidebarOpen ? 'w-96' : 'w-16'\n      }`}>\n        <div className=\"flex flex-col h-full\">\n          {/* Sidebar Header */}\n          <div className=\"p-6 border-b border-slate-800/60\">\n            <div className=\"flex items-center justify-between\">\n              {sidebarOpen && (\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 bg-anime-primary/20 rounded-lg flex items-center justify-center\">\n                    <Icons.Calculator className=\"w-4 h-4 text-anime-primary\" />\n                  </div>\n                  <div>\n                    <h1 className=\"text-sm font-semibold text-white\">Unit Calculator</h1>\n                    <p className=\"text-xs text-slate-400\">Build optimizer</p>\n                  </div>\n                </div>\n              )}\n              <button\n                onClick={() => setSidebarOpen(!sidebarOpen)}\n                className=\"w-8 h-8 bg-slate-800/60 hover:bg-slate-700/80 rounded-lg flex items-center justify-center transition-colors\"\n              >\n                <Icons.Menu className=\"w-4 h-4 text-slate-400\" />\n              </button>\n            </div>\n          </div>\n\n          {sidebarOpen && (\n            <>\n              {/* Unit Search */}\n              <div className=\"p-4 border-b border-slate-800/60\">\n                <div className=\"relative\">\n                  <Icons.Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search units...\"\n                    value={unitSearch}\n                    onChange={(e) => setUnitSearch(e.target.value)}\n                    className=\"w-full pl-9 pr-3 py-2 bg-slate-800/60 border border-slate-700/60 rounded-lg text-sm text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-anime-primary/40 focus:border-anime-primary/60\"\n                  />\n                </div>\n              </div>\n\n              {/* Units List */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\n                <h3 className=\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-3\">Select Unit</h3>\n                {filteredUnits.length > 0 ? (\n                  filteredUnits.map((unit) => (\n                    <button\n                      key={unit.id}\n                      onClick={() => handleUnitSelect(unit)}\n                      className={`w-full p-3 rounded-lg border transition-all text-left ${\n                        selectedUnit?.id === unit.id \n                          ? 'border-anime-primary bg-anime-primary/10' \n                          : 'border-slate-700/60 bg-slate-800/30 hover:border-slate-600/80 hover:bg-slate-800/50'\n                      }`}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"relative\">\n                          <img \n                            src={unit.image || '/api/placeholder/40/40'} \n                            alt={unit.name} \n                            className=\"w-10 h-10 rounded-lg object-cover\"\n                            onError={(e) => {\n                              e.target.src = '/api/placeholder/40/40';\n                            }}\n                          />\n                          <div className=\"absolute -top-1 -right-1 flex gap-0.5\">\n                            <img src={getElementImage(unit.element)} alt={unit.element} className=\"w-3 h-3 rounded\" />\n                            <img src={getTierImage(unit.tier)} alt={unit.tier} className=\"w-3 h-3 rounded\" />\n                          </div>\n                        </div>\n                        <div className=\"min-w-0 flex-1\">\n                          <h4 className=\"text-sm font-medium text-white truncate\">{unit.name}</h4>\n                          <p className=\"text-xs text-slate-400\">{unit.rarity}</p>\n                        </div>\n                      </div>\n                    </button>\n                  ))\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <div className=\"w-12 h-12 mx-auto mb-3 bg-slate-800/40 rounded-xl flex items-center justify-center\">\n                      <Icons.Search className=\"w-6 h-6 text-slate-400\" />\n                    </div>\n                    <p className=\"text-sm text-slate-400 mb-1\">No units found</p>\n                    <p className=\"text-xs text-slate-500\">\n                      {unitSearch ? 'Try a different search term' : 'Add units via Admin Panel'}\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {/* Clear Button */}\n              {selectedUnit && (\n                <div className=\"p-4 border-t border-slate-800/60\">\n                  <button\n                    onClick={clearSelection}\n                    className=\"w-full px-3 py-2 text-sm text-slate-300 hover:text-white bg-slate-800/60 hover:bg-slate-700/80 border border-slate-700/60 rounded-lg transition-colors\"\n                  >\n                    Clear Selection\n                  </button>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 relative z-10 max-w-[1440px]\">\n        {!selectedUnit ? (\n          /* Welcome State */\n          <div className=\"h-full flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-md\">\n              <div className=\"w-20 h-20 bg-anime-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6\">\n                <Icons.Target className=\"w-10 h-10 text-anime-primary\" />\n              </div>\n              <h2 className=\"text-2xl font-semibold text-white mb-4\">Select a Unit</h2>\n              <p className=\"text-slate-400 leading-relaxed\">\n                Choose a unit from the sidebar to start calculating optimized stat builds and configurations.\n              </p>\n            </div>\n          </div>\n        ) : (\n          /* Calculator Interface */\n          <div className=\"h-full overflow-y-auto\">\n            {/* Header */}\n            <div className=\"sticky top-0 bg-slate-900/95 backdrop-blur-xl border-b border-slate-800/60 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-4\">\n                  <img src={selectedUnit.image} alt={selectedUnit.name} className=\"w-12 h-12 rounded-xl\" />\n                  <div>\n                    <h2 className=\"text-lg font-semibold text-white\">{selectedUnit.name}</h2>\n                    <p className=\"text-sm text-slate-400\">{selectedUnit.rarity}  {selectedUnit.tier}</p>\n                  </div>\n                </div>\n                {calculatedStats && (\n                  <div className=\"flex items-center gap-6 text-sm\">\n                    <div className=\"text-center\">\n                      <div className=\"text-xs text-slate-500\">DAMAGE</div>\n                      <div className=\"font-semibold text-white\">{calculatedStats.damage}</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-xs text-slate-500\">RANGE</div>\n                      <div className=\"font-semibold text-white\">{calculatedStats.range}m</div>\n                    </div>\n                    <div className=\"text-center\">\n                                        <div className=\"text-xs text-slate-500\">SPA</div>\n                  <div className=\"font-semibold text-white\">{calculatedStats.sps}/s</div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Configuration Content */}\n            <div className=\"p-6 space-y-8\">\n              {/* Level & Upgrade Section */}\n              <div className=\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <Icons.Zap className=\"w-5 h-5 text-anime-primary\" />\n                  <h3 className=\"text-lg font-semibold text-white\">Level & Upgrade</h3>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                  {/* Level */}\n                  <div>\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <label className=\"text-sm font-medium text-slate-300\">Level</label>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-2xl font-bold text-anime-primary\">{level}</span>\n                        <span className=\"text-sm text-slate-500\">/ 60</span>\n                      </div>\n                    </div>\n                    <input\n                      type=\"range\"\n                      min=\"1\"\n                      max=\"60\"\n                      value={level}\n                      onChange={(e) => setLevel(parseInt(e.target.value))}\n                      className=\"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider\"\n                    />\n                    <div className=\"flex justify-between text-xs text-slate-500 mt-2\">\n                      <span>1</span>\n                      <span>60</span>\n                    </div>\n                  </div>\n                  \n                  {/* Upgrade */}\n                  <div>\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <label className=\"text-sm font-medium text-slate-300\">Upgrade</label>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-2xl font-bold text-orange-400\">{upgrade}</span>\n                        <span className=\"text-sm text-slate-500\">/ 10</span>\n                      </div>\n                    </div>\n                    <input\n                      type=\"range\"\n                      min=\"1\"\n                      max=\"10\"\n                      value={upgrade}\n                      onChange={(e) => setUpgrade(parseInt(e.target.value))}\n                      className=\"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer slider\"\n                    />\n                    <div className=\"flex justify-between text-xs text-slate-500 mt-2\">\n                      <span>1</span>\n                      <span>10</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Stats Configuration */}\n              <div className=\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <Icons.TrendingUp className=\"w-5 h-5 text-anime-primary\" />\n                  <h3 className=\"text-lg font-semibold text-white\">Stat Configuration</h3>\n                </div>\n                \n                <div className=\"space-y-8\">\n                  {['damage', 'range', 'sps'].map((statType) => {\n                    const rangeKey = getStatRangeKey(statType);\n                    const currentGrade = statGradeSelection[statType];\n                    const gradeData = statGrades[currentGrade];\n                    const maxRange = gradeData[rangeKey][1];\n\n                    return (\n                      <div key={statType} className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between\">\n                          <label className=\"text-lg font-semibold text-white capitalize\">\n                            {statType === 'sps' ? 'SPA' : statType}\n                          </label>\n                          <div className=\"flex items-center gap-3\">\n                            <span className={`text-sm font-bold px-3 py-1.5 rounded-lg ${gradeData.textColor} bg-current/15 border border-current/30`}>\n                              {currentGrade}\n                            </span>\n                            <span className=\"text-xl font-bold text-white\">\n                              {statPercentages[statType]}%\n                            </span>\n                          </div>\n                        </div>\n\n                        {/* Grade Selection */}\n                        <div className=\"grid grid-cols-8 gap-2\">\n                          {Object.keys(statGrades).map(grade => {\n                            const gradeInfo = statGrades[grade];\n                            const [min, max] = gradeInfo[rangeKey];\n                            const gradeImageName = grade === 'Z+' ? 'ZPLUS' : grade;\n                            \n                            return (\n                              <button\n                                key={grade}\n                                onClick={() => {\n                                  setStatGradeSelection(prev => ({\n                                    ...prev,\n                                    [statType]: grade\n                                  }));\n                                  // Set percentage to middle of grade range\n                                  const middleValue = (min + max) / 2;\n                                  setStatPercentages(prev => ({\n                                    ...prev,\n                                    [statType]: Number(middleValue.toFixed(2))\n                                  }));\n                                }}\n                                className={`p-3 rounded-lg border transition-all text-center hover:scale-105 ${\n                                  statGradeSelection[statType] === grade\n                                    ? 'border-anime-primary bg-anime-primary/15 shadow-lg shadow-anime-primary/25'\n                                    : 'border-slate-700/50 bg-slate-800/30 hover:bg-slate-700/50 hover:border-slate-600/70'\n                                }`}\n                              >\n                                <div className=\"flex flex-col items-center\">\n                                  <img \n                                    src={`/images/Stats/Stat${gradeImageName}.webp`} \n                                    alt={grade}\n                                    className=\"w-8 h-8 mb-1\"\n                                    onError={(e) => {\n                                      e.target.style.display = 'none';\n                                      e.target.nextSibling.style.display = 'block';\n                                    }}\n                                  />\n                                  <div className=\"w-8 h-8 bg-slate-600/30 rounded hidden items-center justify-center mb-1\">\n                                    <span className=\"text-xs font-bold text-slate-400\">{grade}</span>\n                                  </div>\n                                  <div className=\"text-xs font-bold text-white\">{grade}</div>\n                                  <div className=\"text-xs mt-0.5 text-slate-400\">{min}-{max}%</div>\n                                </div>\n                              </button>\n                            );\n                          })}\n                        </div>\n\n                        {/* Manual Percentage Slider */}\n                        <div className=\"space-y-3\">\n                          <div className=\"flex items-center justify-between text-sm\">\n                            <span className=\"text-slate-400\">Fine-tune percentage:</span>\n                            <span className=\"text-slate-300\">\n                              Base: {selectedUnit.baseStats[statType]} {statType === 'range' ? 'm' : statType === 'sps' ? '/s' : ''}\n                            </span>\n                          </div>\n                          <input\n                            type=\"range\"\n                            min=\"0\"\n                            max={maxRange}\n                            step=\"0.01\"\n                            value={statPercentages[statType]}\n                            onChange={(e) => handleStatPercentageChange(statType, e.target.value)}\n                            className=\"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer slider\"\n                          />\n                          <div className=\"flex justify-between text-xs text-slate-500\">\n                            <span>0%</span>\n                            <span>{maxRange}%</span>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* Traits Section */}\n              <div className=\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <Icons.Star className=\"w-5 h-5 text-anime-primary\" />\n                  <h3 className=\"text-lg font-semibold text-white\">Trait Selection</h3>\n                  <span className=\"text-sm text-slate-400\">Optional</span>\n                  {selectedTrait && (\n                    <div className=\"ml-auto flex items-center gap-2\">\n                      <span className=\"text-sm text-anime-primary font-medium\">\n                        {availableTraits.find(t => t.id === selectedTrait)?.name}\n                        {selectedTraitTier && ` ${selectedTraitTier}`}\n                      </span>\n                      <button\n                        onClick={() => {\n                          setSelectedTrait(null);\n                          setSelectedTraitTier(null);\n                        }}\n                        className=\"w-5 h-5 bg-slate-700/60 hover:bg-slate-600/80 rounded text-slate-400 hover:text-white transition-colors\"\n                      >\n                        <Icons.X className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                  {availableTraits\n                    .sort((a, b) => a.hierarchy - b.hierarchy)\n                    .map((trait) => {\n                      const isSelected = selectedTrait === trait.id;\n                      return (\n                        <button\n                          key={trait.id}\n                          onClick={() => handleTraitSelect(trait)}\n                          className={`p-4 rounded-xl border transition-all relative ${\n                            isSelected\n                              ? 'border-anime-primary bg-anime-primary/10' \n                              : 'border-slate-700/60 bg-slate-800/30 hover:border-slate-600/80 hover:bg-slate-800/50'\n                          }`}\n                        >\n                          {trait.tiered && (\n                            <div className=\"absolute top-2 right-2\">\n                              <span className=\"text-xs bg-anime-accent text-anime-darker px-1.5 py-0.5 rounded font-bold\">\n                                1-3\n                              </span>\n                            </div>\n                          )}\n                          <div className=\"text-center\">\n                            <img src={trait.icon} alt={trait.name} className=\"w-10 h-10 mx-auto rounded-lg mb-3\" />\n                            <h4 className=\"text-sm font-medium text-white mb-1\">{trait.name}</h4>\n                            <p className=\"text-xs text-slate-400 leading-relaxed\">{trait.description}</p>\n                            {isSelected && selectedTraitTier && (\n                              <div className=\"mt-2 text-xs text-anime-primary font-medium\">\n                                Tier {selectedTraitTier} Active\n                              </div>\n                            )}\n                          </div>\n                        </button>\n                      );\n                    })}\n                </div>\n              </div>\n\n              {/* Final Results */}\n              {calculatedStats && (\n                <div className=\"bg-slate-900/40 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-6\">\n                  <div className=\"flex items-center gap-3 mb-6\">\n                    <Icons.BarChart className=\"w-5 h-5 text-anime-primary\" />\n                    <h3 className=\"text-lg font-semibold text-white\">Final Statistics</h3>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n                    {Object.entries(calculatedStats).map(([stat, value]) => (\n                      <div key={stat} className=\"text-center p-4 bg-slate-800/30 rounded-xl\">\n                        <div className=\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-2\">\n                          {stat === 'sps' ? 'SPA' : stat}\n                        </div>\n                        <div className=\"text-2xl font-bold text-white mb-1\">\n                          {stat === 'placement' ? value.toLocaleString() : value}\n                        </div>\n                        <div className=\"text-xs text-slate-500\">\n                          {stat === 'range' ? 'meters' : stat === 'sps' ? 'per second' : stat === 'placement' ? 'cost' : 'points'}\n                        </div>\n                        {stat !== 'placement' && (\n                          <div className=\"text-xs text-anime-primary mt-1\">\n                            +{(((value / selectedUnit.baseStats[stat]) - 1) * 100).toFixed(1)}%\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Trait Tier Selection Dialog */}\n      {traitDialogOpen && dialogTrait && (\n        <div className=\"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4\">\n          <div className=\"bg-slate-900/95 backdrop-blur-xl border border-slate-800/60 rounded-2xl p-6 max-w-md w-full\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <img src={dialogTrait.icon} alt={dialogTrait.name} className=\"w-8 h-8 rounded-lg\" />\n                <h3 className=\"text-xl font-semibold text-white\">{dialogTrait.name}</h3>\n              </div>\n              <button\n                onClick={closeTraitDialog}\n                className=\"w-8 h-8 bg-slate-800/60 hover:bg-slate-700/80 rounded-lg flex items-center justify-center transition-colors\"\n              >\n                <Icons.X className=\"w-4 h-4 text-slate-400\" />\n              </button>\n            </div>\n\n            <p className=\"text-slate-300 mb-6\">Select the tier level for this trait:</p>\n\n            <div className=\"space-y-3\">\n              {dialogTrait.tiers?.map((tier) => (\n                <button\n                  key={tier.level}\n                  onClick={() => handleTierSelect(tier.level)}\n                  className=\"w-full p-4 text-left bg-slate-800/40 hover:bg-slate-700/60 border border-slate-700/60 hover:border-slate-600/80 rounded-xl transition-all\"\n                >\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"font-semibold text-white\">Tier {tier.level}</span>\n                    <div className=\"flex gap-1\">\n                      {[...Array(tier.level)].map((_, i) => (\n                        <div key={i} className=\"w-2 h-2 bg-anime-primary rounded-full\"></div>\n                      ))}\n                      {[...Array(3 - tier.level)].map((_, i) => (\n                        <div key={i} className=\"w-2 h-2 bg-slate-600 rounded-full\"></div>\n                      ))}\n                    </div>\n                  </div>\n                  <p className=\"text-sm text-slate-400\">{tier.description}</p>\n                </button>\n              ))}\n            </div>\n\n            <div className=\"mt-6 pt-4 border-t border-slate-800/60\">\n              <button\n                onClick={closeTraitDialog}\n                className=\"w-full px-4 py-2 text-sm text-slate-300 hover:text-white bg-slate-800/60 hover:bg-slate-700/80 border border-slate-700/60 rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Calculator; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}